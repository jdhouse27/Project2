<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Scenic!</title>
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.1.5/css/uikit.min.css">
    <!-- UIkit JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.1.5/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.1.5/js/uikit-icons.min.js"></script>
    <!-- JQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVPtlKIIhwsJRmMiUtEvQKjgBlzEZ1ZfA"></script>
    <!-- CSS  -->
    <link rel="stylesheet" type="text/css" href="./styles/reset.css">
    <link rel="stylesheet" type="text/css" href="./styles/category.css">
    <link rel="stylesheet" type="text/css" href="./styles/map.css" />
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC%7CNosifer" rel="stylesheet">
    
</head>

<body>

    <div class="uk-section">
        <div class="uk-container">
            <div class="uk-grid-small uk-child-width-expand@s uk-text-center" uk-grid>
                <div class="uk-width-3-4">
                    <div>
                        <li id="logo" class="uk-position-top-center" href="./index.html"></li>

                    </div>
                </div>
                <div class="uk-width-1-4"></div>
            </div>

            <div class="uk-grid-small uk-child-width-expand@s uk-text-center" uk-grid>
                <div class="uk-width-expand@m">
                    <form id="addCategory" class="uk-position-top-center uk-search uk-search-default">
                        <input id="newSearchItem" class="uk-search-input" type="text" placeholder="Find something different...">
                    </form>
                    <div uk-slider class="uk-position-center">
                        <div id="slider" class="uk-slider-container uk-light">
                            <ul class="uk-slider-items uk-child-width-1-2 uk-child-width-1-3@s uk-child-width-1-4@m">
                                <li id="Breweries" class="uk-box-shadow-medium uk-padding addCategory" data-id="Breweries">
                                    <p id="image1" alt="">
                                        <div class="uk-position-center uk-panel">
                                            <h2 class="catTitle">Breweries</h2>
                                        </div>
                                </li>
                                <li id="Restuarants" class="uk-box-shadow-medium uk-padding addCategory" data-id="Restaurants">
                                    <p id="image2" alt="">
                                        <div class="uk-position-center uk-panel">
                                            <h2 class="catTitle">Restaurants and Bars</h2>
                                        </div>
                                </li>
                                <li id="Bars" class="uk-box-shadow-medium uk-padding addCategory" data-id="bars">
                                    <p id="image3" alt="">
                                        <div class="uk-position-center uk-panel">
                                            <h2 class="catTitle">Bars</h2>
                                        </div>
                                </li>
                                <li id="Venues" class="uk-box-shadow-medium uk-padding addCategory" data-id="Sporting Events">
                                    <p id="image4" alt="">
                                        <div class="uk-position-center uk-panel">
                                            <h2 class="catTitle">Sporting Events</h2>
                                        </div>
                                </li>
                                <li id="Museums" class="uk-box-shadow-medium uk-padding addCategory" data-id="Museums">
                                    <p id="image5" alt="">
                                        <div class="uk-position-center uk-panel">
                                            <h2 class="catTitle">Museums</h2>
                                        </div>
                                </li>
                                <li id="Libraries" class="uk-box-shadow-medium uk-padding addCategory" data-id="Libraries">
                                    <p id="image6" alt="">
                                        <div class="uk-position-center uk-panel">
                                            <h2 class="catTitle">Libraries</h2>
                                        </div>

                                </li>
                                <li id="Shopping" class="uk-box-shadow-medium uk-padding addCategory" data-id="Shopping">
                                    <p id="image7" alt="">
                                        <div class="uk-position-center uk-panel">
                                            <h2 class="catTitle">Shopping</h2>
                                        </div>
                                </li>
                                <li id="Parks" class="uk-box-shadow-medium uk-padding addCategory" data-id="Parks">
                                    <p id="image8" alt="">
                                        <div class="uk-position-center uk-panel">
                                            <h2 class="catTitle">Parks</h2>
                                        </div>
                                </li>
                            </ul>
                            <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slider-item="previous"></a>
                            <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slider-item="next"></a>
                        </div>
                        <ul class="uk-slider-nav uk-dotnav uk-flex-center uk-margin"></ul>
                    </div>
                </div>
                <div class="uk-width-1-4@m">
                    <button id="new-event" class="uk-position-top-right uk-button uk-button-default" type="button" uk-toggle="target: #offcanvas-flip">Itinerary</button>
                    <div id="offcanvas-flip" uk-offcanvas="mode: slide; flip: true; overlay: true">
                        <div class="uk-offcanvas-bar" id="eventContainer">
                            <button class="uk-offcanvas-close" type="button" uk-close></button>
                            <ul class="list-group list-group-flush" id="event-group">
                                <ul uk-accordion>
                                    <li class="newEvent">
                                        <a id="newEventAdded" class="uk-accordion-title" href="#"></a>
                                        <div class="uk-accordion-content">
                                            <p></p>
                                            <br>
                                            <button id="remove-btn" class="remove-status" data-id="{{id}}">Remove</button>
                                            <button id="search-btn" class="location-status" data-id="{{id}}">Search Again</button>
                                        </div>
                                    </li>
                                </ul>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="catModal" uk-modal>
        <div class="uk-modal-dialog">
            <button class="uk-modal-close-default" type="button" uk-close></button>
            <div class="uk-modal-header">
                <h2 class="uk-modal-title">Please wait while we load something awesome for you.</h2>
            </div>

            <div id="category" class="uk-modal-body" uk-overflow-auto></div>
        </div>
    </div>

    <div class="uk-section">
        <div class="uk-container"></div>
        <div id="map"></div>
        <script
         src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVPtlKIIhwsJRmMiUtEvQKjgBlzEZ1ZfA">
        </script>
        <script>
 
                 //   var lat = (props.lat);
                 //   var lng = (props.lng);
            function initMap(lat, lng) {
                //Map Options
 
                var options = {
                    zoom: 10,
                    center: { lat: lat, lng: lng },
 
                };
                //console.log(data.results);
                //console.log(props)
               // console.log(lng)
                //New Map
                var map = new google.maps.Map(document.getElementById("map"), options);
 
 
            }
            var geoAPI = "&key=AIzaSyBVPtlKIIhwsJRmMiUtEvQKjgBlzEZ1ZfA";
            var inputLocation = localStorage.getItem("location")
            $.ajax({
                    url: "https://maps.googleapis.com/maps/api/geocode/json?address=" + inputLocation + geoAPI,
                    type: "GET",
                }).done(function (data) {
                    console.log(data.results[0].geometry);
                    var lat = data.results[0].geometry.location.lat;
                    var lng = data.results[0].geometry.location.lng;
                    // addMarker2({ lng, lat });
                    initMap(lat, lng);
 
                    //     var lat = data[i].location_1.coordinates[1];
                });
 
 function addMarker(props) {
                    //console.log(props);
                    var marker = new google.maps.Marker({
                        position: props,
                        map: map
                    });
 
                    if (props.content) {
                        var infoWindow = new google.maps.InfoWindow({
                            content: props.content
                        });
                        marker.addListener("click", function () {
                            infoWindow.open(map, marker);
                        });
                    }
                }
                function addMarker2(props) {
                    console.log(props);
                    var marker = new
                        google.maps.Marker({
                            position: props,
                            map: map,
 
 
                        });
                };
 
 
 
            console.log(localStorage.getItem("location"))
            function addMarker(props) {
                console.log(props);
                var marker = new
                    google.maps.Marker({
                        position: props,
                        map: map,
 
                    });
 
                if (props.content) {
                    var infoWindow = new
                        google.maps.InfoWindow({
                            content: props.content
                        });
                    marker.addListener('click', function () {
                        infoWindow.open(map, marker);
                    })
                }
            }
 
        </script>
    </div>
    <script src="./js/input.js " type="text/javascript "></script>
    <script src="./js/event-maintain.js " type="text/javascript "></script>


</body>


</html>